{% extends "base.html" %}
{% block content %}
<h2>Agregar Venta</h2>
<form method="post">
  {% csrf_token %}
  <div class="mb-3">
    <label class="form-label">Producto</label>
    <select class="form-control" name="producto" required>
      <option value="">Seleccionar producto</option>
      {% for p in productos %}
      <option value="{{ p.id }}">{{ p.nombre }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Usuario (Cliente)</label>
    <select class="form-control" name="usuario" required>
      <option value="">Seleccionar usuario</option>
      {% for u in usuarios %}
      <option value="{{ u.id }}">{{ u.nombre }} {{ u.apellido }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Vendedor (Empleado)</label>
    <select class="form-control" name="vendedor" required>
      <option value="">Seleccionar vendedor</option>
      {% for e in empleados %}
      <option value="{{ e.id }}">{{ e.nombre }} {{ e.apellido }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Total</label>
    <input class="form-control" name="total" type="number" step="0.01" required>
  </div>
  <div class="mb-3">
    <label class="form-label">Método de Pago</label>
    <select class="form-control" name="metodo_pago" required>
      <option value="">Seleccionar método</option>
      <option value="Efectivo">Efectivo</option>
      <option value="Tarjeta de Crédito">Tarjeta de Crédito</option>
      <option value="Tarjeta de Débito">Tarjeta de Débito</option>
      <option value="Transferencia">Transferencia</option>
      <option value="Cheque">Cheque</option>
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Descuento</label>
    <input class="form-control" name="descuento" type="number" step="0.01" value="0.00">
  </div>
  <button class="btn btn-primary" type="submit">Guardar</button>
  <a class="btn btn-secondary" href="{% url 'ver_ventas' %}">Cancelar</a>
</form>
{% endblock %}
